<html ng-app="MiniPostmanApp">

<head>
    <title>Mini Postman</title>

    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">
    <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/bower_components/angular/angular.min.js"></script>
    <script src="/bower_components/angular-route/angular-route.min.js"></script>

    <script src="minipostman-app-aps.js"></script>
    <script src="main-ctrl-deceaseds.js"></script>


</head>
<html ng-app="MiniPostmanApp">

<body ng-controller="MainCtrl">
    <br><br>
    <h1>Defunciones

        <button class="btn btn-primary" ng-click="getLoadInitialData()">Cargar datos iniciales</button>
        <button class="btn btn-warning" ng-click="deleteDeceaseds()">Eliminar todos</button>
    </h1>
    <br>

    <br>
    <div class="alert alert-warning alert-dismissable">

        <center><strong>¡Atención!</strong> {{data}} </center>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>Provincia</th>
                <th>Año</th>
                <th>Vidas</th>
                <th>Multa</th>
                <th>Número de muertos</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="deceased in deceaseds">
                <td>{{ deceased.province }}</td>
                <td>{{ deceased.year }}</td>
                <td>{{ deceased.life }}</td>
                <td>{{ deceased.penalty }}</td>
                <td>{{ deceased.number }}</td>
                <td>

                    <button class="btn btn-danger" ng-click="deleteDeceased(deceased.province,deceased.year)">Eliminar</button>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="form-control" ng-model="newDeceased.province" value="Nueva provincia" />
                </td>
                <td>
                    <input class="form-control" ng-model="newDeceased.year" type=Number value="Nuevo año" />
                </td>
                <td>
                    <input class="form-control" ng-model="newDeceased.life" value="Nuevas vidas" />
                </td>
                <td>
                    <input class="form-control" ng-model="newDeceased.penalty" value="Nuevos multas" />
                </td>
                <td>
                    <input class="form-control" ng-model="newDeceased.number" value="Nuevos número de muertos" />
                </td>
                <td>
                    <button class="btn btn-outline-primary my-2 my-sm-0" ng-click="addDeceased()">Añadir</button>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="form-control" ng-model="putDeceased.province" value="Modifica provincia" />
                </td>
                <td>
                    <input class="form-control" ng-model="putDeceased.year" type=Number value="Modifica año" />
                </td>
                <td>
                    <input class="form-control" ng-model="putDeceased.life" value="Modifica vidas" />
                </td>
                <td>
                    <input class="form-control" ng-model="putDeceased.penalty" value="Modifica multas" />
                </td>
                <td>
                    <input class="form-control" ng-model="putDeceased.number" value="Modifica número de muertos" />
                </td>
                <td>
                    <button class="btn btn-outline-primary my-2 my-sm-0" ng-click="putDeceased(putDeceased.province,putDeceased.year,putDeceased.life,putDeceased.penalty,putDeceased.number)">Modificar</button>
                </td>
            </tr>
            <tr>
                <td>
                    <input class="form-control mr-sm-2" type="number" placeholder="From Year" aria-label="from" ng-model="from">
                </td>
                <td>
                    <input class="form-control mr-sm-2" type="number" placeholder="To Year" aria-label="to" ng-model="to">
                </td>
                <td>
                    <button class="btn btn-outline-primary my-2 my-sm-0" type="submit" ng-click="search()">Search</button>
                </td>
            </tr>
            <br><br>
        </tbody>
        <tfoot>
            <tr>
                <td colspan="13">
                    <ul class="pagination text-center form-actions">
                        <input autocomplete="off" type="number" value="10" class="form-control" ng-model="limit" />
                        <button type="button" class="btn btn-outline-info" ng-click="pagination('clear')">Limpiar</button>
                        <button type="button" class="btn btn-outline-primary" ng-click="pagination('z')">&larr;</button>
                        <button type="button" class="btn btn-outline-secondary" ng-click="pagination(1)">1</button>
                        <button type="button" class="btn btn-outline-secondary" ng-click="pagination(1)">2</button>
                        <button type="button" class="btn btn-outline-secondary" ng-click="pagination(2)">3</button>
                        <button type="button" class="btn btn-outline-secondary" ng-click="pagination(3)">4</button>
                        <button type="button" class="btn btn-outline-primary" ng-click="pagination('x')">&rarr;</button>
                    </ul>
                </td>
            </tr>
        </tfoot>
    </table>
</body>

</html>